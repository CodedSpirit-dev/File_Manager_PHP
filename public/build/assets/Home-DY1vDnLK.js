import{r as p,j as e,q as u,Y as j,b as v}from"./app-vsYF5F6T.js";import w from"./CreateEmployee-22wHwZmC.js";import N from"./EmployeeList-DGE95zn5.js";import C from"./Profile-Bj-RaN_z.js";import k from"./CreatePosition-BG1jbf9j.js";import x from"./FileManager-D8oT1aBk.js";import{$ as P,a as E,w as $,u as b,r,P as I}from"./Toolbar-BEAIPHp3.js";import L from"./CompanyList-DtEOhUVL.js";import{a as A}from"./portal-BURH1GlR.js";import{K as F,_ as M,L as B}from"./use-server-handoff-complete-ChsRtLZe.js";import"./index.esm-DOpgG1dT.js";import"./EditEmployee-DXEyBGlQ.js";import"./UpdatePasswordForm-5CBcKQGL.js";import"./Modal-z-F0irMP.js";import"./index-BuicVQ8g.js";import"./iconBase-Cwb3WtqU.js";import"./FileViewerModal-Bn9W6EGE.js";import"./FileViewer-DlUKTUi0.js";import"./fileManagerApi-C0KtsbOo.js";import"./Breadcrumb-DF5Bf3lX.js";import"./EditCompany-B5KBmTTl.js";import"./CreateCompany-Ci-vBzAG.js";import"./companyApi-DHNa0lkf.js";let H="button";function S(o,n){var a;let i=A(),{disabled:t=i||!1,autoFocus:l=!1,...s}=o,{isFocusVisible:c,focusProps:h}=P({autoFocus:l}),{isHovered:m,hoverProps:f}=E({isDisabled:t}),{pressed:d,pressProps:g}=$({disabled:t}),y=M({ref:n,type:(a=s.type)!=null?a:"button",disabled:t||void 0,autoFocus:l},h,f,g),_=p.useMemo(()=>({disabled:t,hover:m,focus:c,active:d,autofocus:l}),[t,m,c,d,l]);return B()({ourProps:y,theirProps:s,slot:_,defaultTag:H,name:"Button"})}let z=F(S);const D=({renderComponent:o})=>{const{hasPermission:n}=b();return["can_create_companies","can_create_employees","can_create_positions","can_view_all_employees","can_view_company_employees","can_view_file_explorer"].some(t=>n(t))?e.jsxs(r,{as:"div",className:"relative inline-block text-left",children:[e.jsx("div",{children:e.jsx(r.Button,{className:"btn btn-ghost nav__bar__button",children:"Panel de Administración"})}),e.jsx(r.Items,{className:"absolute right-0 mt-2 w-56 origin-top-right bg-white border border-gray-200 divide-y divide-gray-100 rounded-md shadow-lg focus:outline-none z-20",children:e.jsxs("div",{className:"px-1 py-1 ",children:[n("can_view_company_employees")&&e.jsx(r.Item,{children:({active:t})=>e.jsx("button",{className:`${t?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>o("Profile"),children:"Perfil"})}),n("can_create_positions")&&e.jsx(r.Item,{children:({active:t})=>e.jsx("button",{className:`${t?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>o("CreatePosition"),children:"Agregar nuevo puesto"})}),n("can_create_employees")&&e.jsx(r.Item,{children:({active:t})=>e.jsx("button",{className:`${t?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>o("CreateEmployee"),children:"Agregar nuevo empleado"})}),n("can_view_all_employees")&&e.jsx(r.Item,{children:({active:t})=>e.jsx("button",{className:`${t?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>o("EmployeeList"),children:"Lista de Empleados"})}),e.jsx(r.Item,{children:({active:t})=>e.jsx("button",{className:`${t?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>o("CompanyList"),children:"Empresas"})})]})})]}):null},R=()=>{const{hasPermission:o}=b(),{auth:n}=u().props;n.user;const[a,i]=p.useState(null),t=s=>{switch(s){case"Profile":i(e.jsx(T,{}));break;case"FileManager":i(e.jsx(x,{}));break;case"EmployeeList":i(e.jsx(N,{}));break;case"CreateEmployee":i(e.jsx(w,{}));break;case"CompanyList":i(e.jsx(L,{}));break;case"CreatePosition":i(e.jsx(k,{}));break;default:i(null)}},l=()=>{v.post("/logout").finally(()=>{window.location.href="/login"})};return e.jsxs(e.Fragment,{children:[e.jsx(j,{title:"Inicio"}),e.jsxs("section",{className:"container mx-auto",children:[e.jsxs("nav",{className:"nav__bar rounded-lg flex items-center justify-between p-4",children:[e.jsx("div",{className:"lg:hidden",children:e.jsxs(r,{as:"div",className:"relative inline-block text-left",children:[e.jsx("div",{children:e.jsx(r.Button,{className:"nav__bar__button transition-opacity hover:text-black",children:"Menú"})}),e.jsx(r.Items,{className:"absolute left-0 mt-2 w-56 origin-top-left bg-white border border-gray-200 divide-y divide-gray-100 rounded-md shadow-lg focus:outline-none z-20",children:e.jsxs("div",{className:"px-1 py-1 ",children:[o("can_view_company_employees")&&e.jsx(r.Item,{children:({active:s})=>e.jsx("button",{className:`${s?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>t("Profile"),children:"Perfil"})}),o("can_create_companies")&&e.jsx(r.Item,{children:({active:s})=>e.jsx("button",{className:`${s?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>t("CompanyList"),children:"Empresas"})}),o("can_create_positions")&&e.jsx(r.Item,{children:({active:s})=>e.jsx("button",{className:`${s?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>t("CreatePosition"),children:"Agregar nuevo puesto"})}),o("can_create_employees")&&e.jsx(r.Item,{children:({active:s})=>e.jsx("button",{className:`${s?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>t("CreateEmployee"),children:"Agregar nuevo empleado"})}),o("can_view_all_employees")&&e.jsx(r.Item,{children:({active:s})=>e.jsx("button",{className:`${s?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>t("EmployeeList"),children:"Lista de Empleados"})}),o("can_view_file_explorer")&&e.jsx(r.Item,{children:({active:s})=>e.jsx("button",{className:`${s?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>t("FileManager"),children:"Explorador de archivos"})})]})})]})}),e.jsxs("div",{className:"hidden lg:flex space-x-4",children:[o("can_view_file_explorer")&&e.jsx(z,{className:"btn btn-ghost nav__bar__button hover:text-black",onClick:()=>t("FileManager"),children:"Explorador de archivos"}),e.jsx(D,{renderComponent:t})]}),e.jsxs("div",{children:[e.jsx("button",{className:"nav__bar__button transition-opacity hover:text-black",onClick:()=>{const s=document.getElementById("modal_sesion_close");s==null||s.showModal()},children:"Cerrar sesión"}),e.jsx("dialog",{id:"modal_sesion_close",className:"modal",children:e.jsxs("div",{className:"modal-box",children:[e.jsx("h3",{className:"font-bold text-lg text-center",children:"¿Estás seguro de cerrar sesión?"}),e.jsx("div",{className:"modal-action justify-center",children:e.jsxs("form",{method:"dialog",children:[e.jsx("button",{className:"btn btn-active btn-secondary bg-warning text-base-content hover:text-base-100 m-3",children:"No cerrar sesión"}),e.jsx("button",{type:"button",className:"btn btn-active btn-primary m-3",onClick:l,children:"Sí, cerrar sesión"})]})})]})})]})]}),e.jsx("div",{className:"mt-4",children:a||e.jsx(x,{})})]})]})},T=()=>{const{auth:o}=u().props;return e.jsx(C,{mustVerifyEmail:!1,status:"",auth:o})},de=()=>e.jsx(I,{children:e.jsx(R,{})});export{de as default};
