import{q as S,W as C,r as s,j as e,a as z,b as E}from"./app-7oGOmKJ9.js";import{T as d,I as u}from"./TextInput-BlwNp8kj.js";import{I as x}from"./InputLabel-_Erfhs3j.js";import{P as I}from"./PrimaryButton-C_LxeBpS.js";import{z as M}from"./transition-B4cl77yR.js";import"./render-KTJqXkku.js";function H({mustVerifyEmail:f,status:h,className:p=""}){const r=S().props.auth.user,{data:t,setData:i,errors:l,processing:j,recentlySuccessful:v}=C({name:r.name,email:r.email}),[k,o]=s.useState(""),[g,n]=s.useState(""),[N,c]=s.useState(!1),[b,m]=s.useState(!1),y=a=>{a.preventDefault(),E.patch("/profile",t).then(()=>{o("Perfil actualizado exitosamente."),n(""),c(!0)}).catch(P=>{n("Hubo un error al actualizar el perfil."),o(""),m(!0)})};return e.jsxs("section",{className:p,children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Información del perfil"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Actualiza la información del perfil y la dirección de correo electrónico de tu cuenta."})]}),e.jsxs("form",{onSubmit:y,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"name",value:"Nombre"}),e.jsx(d,{id:"name",className:"mt-1 block w-full",value:t.name,onChange:a=>i("name",a.target.value),required:!0,isFocused:!0,autoComplete:"name"}),e.jsx(u,{className:"mt-2",message:l.name})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"email",value:"Correo electrónico"}),e.jsx(d,{id:"email",type:"email",className:"mt-1 block w-full",value:t.email,onChange:a=>i("email",a.target.value),required:!0,autoComplete:"username"}),e.jsx(u,{className:"mt-2",message:l.email})]}),f&&r.email_verified_at===null&&e.jsxs("div",{children:[e.jsxs("p",{className:"mt-2 text-sm text-gray-800",children:["Tu dirección de correo electrónico no está verificada.",e.jsx(z,{href:route("verification.send"),method:"post",as:"button",className:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Haz clic aquí para reenviar el correo de verificación."})]}),h==="verification-link-sent"&&e.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:"Se ha enviado un nuevo enlace de verificación a tu dirección de correo electrónico."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(I,{disabled:j,children:"Guardar"}),e.jsx(M,{show:v,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Guardado."})})]})]}),N&&e.jsx("div",{className:"modal modal-open",children:e.jsxs("div",{className:"modal-box",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Perfil actualizado exitosamente"}),e.jsx("div",{className:"modal-action",children:e.jsx("button",{className:"btn btn-primary",onClick:()=>c(!1),children:"Cerrar"})})]})}),b&&e.jsx("div",{className:"modal modal-open",children:e.jsxs("div",{className:"modal-box",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Error al actualizar el perfil"}),e.jsx("p",{className:"py-4",children:g}),e.jsx("div",{className:"modal-action",children:e.jsx("button",{className:"btn btn-primary",onClick:()=>m(!1),children:"Cerrar"})})]})})]})}export{H as default};
