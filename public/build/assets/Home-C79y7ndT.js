import{R as x,r as c,b as $,j as o,q as W,Y as pe}from"./app-CiXPboX-.js";import me from"./CreateEmployee-DVlkxrn1.js";import he from"./EmployeeList-4CuM74Sp.js";import G from"./Profile-BmBVKhIL.js";import ve from"./CreateCompany-CgVxkcjP.js";import be from"./CreatePosition-wIrFzQ9d.js";import{u as ge,a as ye}from"./disabled-Czqr1w-u.js";import{p as xe,o as V,K as Ee,_ as we,L as $e}from"./render-CIF6ODjE.js";import"./index.esm-Cs09-Zmc.js";import"./EditEmployee-Db2mjLCi.js";import"./UpdatePasswordForm-s2_cVo5H.js";const q=typeof document<"u"?x.useLayoutEffect:()=>{};function je(e){const r=c.useRef(null);return q(()=>{r.current=e},[e]),c.useCallback((...t)=>{const n=r.current;return n==null?void 0:n(...t)},[])}const C=e=>{var r;return(r=e==null?void 0:e.ownerDocument)!==null&&r!==void 0?r:document},E=e=>e&&"window"in e&&e.window===e?e:C(e).defaultView||window;function Pe(e){var r;return typeof window>"u"||window.navigator==null?!1:((r=window.navigator.userAgentData)===null||r===void 0?void 0:r.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent)}function Fe(e){var r;return typeof window<"u"&&window.navigator!=null?e.test(((r=window.navigator.userAgentData)===null||r===void 0?void 0:r.platform)||window.navigator.platform):!1}function Y(e){let r=null;return()=>(r==null&&(r=e()),r)}const Ce=Y(function(){return Fe(/^Mac/i)}),Te=Y(function(){return Pe(/Android/i)});function Le(e){return e.mozInputSource===0&&e.isTrusted?!0:Te()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class _e{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(r,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=r}}function X(e){let r=c.useRef({isFocused:!1,observer:null});q(()=>{const n=r.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let t=je(n=>{e==null||e(n)});return c.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){r.current.isFocused=!0;let a=n.target,s=l=>{r.current.isFocused=!1,a.disabled&&t(new _e("blur",l)),r.current.observer&&(r.current.observer.disconnect(),r.current.observer=null)};a.addEventListener("focusout",s,{once:!0}),r.current.observer=new MutationObserver(()=>{if(r.current.isFocused&&a.disabled){var l;(l=r.current.observer)===null||l===void 0||l.disconnect();let i=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:i})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:i}))}}),r.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[t])}function Ne(e){let{isDisabled:r,onFocus:t,onBlur:n,onFocusChange:a}=e;const s=c.useCallback(u=>{if(u.target===u.currentTarget)return n&&n(u),a&&a(!1),!0},[n,a]),l=X(s),i=c.useCallback(u=>{const p=C(u.target);u.target===u.currentTarget&&p.activeElement===u.target&&(t&&t(u),a&&a(!0),l(u))},[a,t,l]);return{focusProps:{onFocus:!r&&(t||a||n)?i:void 0,onBlur:!r&&(n||a)?s:void 0}}}let T=null,D=new Set,F=new Map,w=!1,A=!1;const ke={Tab:!0,Escape:!0};function z(e,r){for(let t of D)t(e,r)}function He(e){return!(e.metaKey||!Ce()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function _(e){w=!0,He(e)&&(T="keyboard",z("keyboard",e))}function y(e){T="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(w=!0,z("pointer",e))}function J(e){Le(e)&&(w=!0,T="virtual")}function Q(e){e.target===window||e.target===document||(!w&&!A&&(T="virtual",z("virtual",e)),w=!1,A=!1)}function Z(){w=!1,A=!0}function I(e){if(typeof window>"u"||F.get(E(e)))return;const r=E(e),t=C(e);let n=r.HTMLElement.prototype.focus;r.HTMLElement.prototype.focus=function(){w=!0,n.apply(this,arguments)},t.addEventListener("keydown",_,!0),t.addEventListener("keyup",_,!0),t.addEventListener("click",J,!0),r.addEventListener("focus",Q,!0),r.addEventListener("blur",Z,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",y,!0),t.addEventListener("pointermove",y,!0),t.addEventListener("pointerup",y,!0)):(t.addEventListener("mousedown",y,!0),t.addEventListener("mousemove",y,!0),t.addEventListener("mouseup",y,!0)),r.addEventListener("beforeunload",()=>{ee(e)},{once:!0}),F.set(r,{focus:n})}const ee=(e,r)=>{const t=E(e),n=C(e);r&&n.removeEventListener("DOMContentLoaded",r),F.has(t)&&(t.HTMLElement.prototype.focus=F.get(t).focus,n.removeEventListener("keydown",_,!0),n.removeEventListener("keyup",_,!0),n.removeEventListener("click",J,!0),t.removeEventListener("focus",Q,!0),t.removeEventListener("blur",Z,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",y,!0),n.removeEventListener("pointermove",y,!0),n.removeEventListener("pointerup",y,!0)):(n.removeEventListener("mousedown",y,!0),n.removeEventListener("mousemove",y,!0),n.removeEventListener("mouseup",y,!0)),F.delete(t))};function Se(e){const r=C(e);let t;return r.readyState!=="loading"?I(e):(t=()=>{I(e)},r.addEventListener("DOMContentLoaded",t)),()=>ee(e,t)}typeof document<"u"&&Se();function te(){return T!=="pointer"}const Me=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Oe(e,r,t){var n;const a=typeof window<"u"?E(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?E(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?E(t==null?void 0:t.target).HTMLElement:HTMLElement,i=typeof window<"u"?E(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return e=e||(t==null?void 0:t.target)instanceof a&&!Me.has(t==null||(n=t.target)===null||n===void 0?void 0:n.type)||(t==null?void 0:t.target)instanceof s||(t==null?void 0:t.target)instanceof l&&(t==null?void 0:t.target.isContentEditable),!(e&&r==="keyboard"&&t instanceof i&&!ke[t.key])}function De(e,r,t){I(),c.useEffect(()=>{let n=(a,s)=>{Oe(!!(t!=null&&t.isTextInput),a,s)&&e(te())};return D.add(n),()=>{D.delete(n)}},r)}function Ae(e){let{isDisabled:r,onBlurWithin:t,onFocusWithin:n,onFocusWithinChange:a}=e,s=c.useRef({isFocusWithin:!1}),l=c.useCallback(p=>{s.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(s.current.isFocusWithin=!1,t&&t(p),a&&a(!1))},[t,a,s]),i=X(l),u=c.useCallback(p=>{!s.current.isFocusWithin&&document.activeElement===p.target&&(n&&n(p),a&&a(!0),s.current.isFocusWithin=!0,i(p))},[n,a,i]);return r?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:l}}}let N=!1,O=0;function B(){N=!0,setTimeout(()=>{N=!1},50)}function R(e){e.pointerType==="touch"&&B()}function Ie(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",R):document.addEventListener("touchend",B),O++,()=>{O--,!(O>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",R):document.removeEventListener("touchend",B))}}function Be(e){let{onHoverStart:r,onHoverChange:t,onHoverEnd:n,isDisabled:a}=e,[s,l]=c.useState(!1),i=c.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;c.useEffect(Ie,[]);let{hoverProps:u,triggerHoverEnd:p}=c.useMemo(()=>{let v=(f,g)=>{if(i.pointerType=g,a||g==="touch"||i.isHovered||!f.currentTarget.contains(f.target))return;i.isHovered=!0;let j=f.currentTarget;i.target=j,r&&r({type:"hoverstart",target:j,pointerType:g}),t&&t(!0),l(!0)},m=(f,g)=>{if(i.pointerType="",i.target=null,g==="touch"||!i.isHovered)return;i.isHovered=!1;let j=f.currentTarget;n&&n({type:"hoverend",target:j,pointerType:g}),t&&t(!1),l(!1)},b={};return typeof PointerEvent<"u"?(b.onPointerEnter=f=>{N&&f.pointerType==="mouse"||v(f,f.pointerType)},b.onPointerLeave=f=>{!a&&f.currentTarget.contains(f.target)&&m(f,f.pointerType)}):(b.onTouchStart=()=>{i.ignoreEmulatedMouseEvents=!0},b.onMouseEnter=f=>{!i.ignoreEmulatedMouseEvents&&!N&&v(f,"mouse"),i.ignoreEmulatedMouseEvents=!1},b.onMouseLeave=f=>{!a&&f.currentTarget.contains(f.target)&&m(f,"mouse")}),{hoverProps:b,triggerHoverEnd:m}},[r,t,n,a,i]);return c.useEffect(()=>{a&&p({currentTarget:i.target},i.pointerType)},[a]),{hoverProps:u,isHovered:s}}function We(e={}){let{autoFocus:r=!1,isTextInput:t,within:n}=e,a=c.useRef({isFocused:!1,isFocusVisible:r||te()}),[s,l]=c.useState(!1),[i,u]=c.useState(()=>a.current.isFocused&&a.current.isFocusVisible),p=c.useCallback(()=>u(a.current.isFocused&&a.current.isFocusVisible),[]),v=c.useCallback(f=>{a.current.isFocused=f,l(f),p()},[p]);De(f=>{a.current.isFocusVisible=f,p()},[],{isTextInput:t});let{focusProps:m}=Ne({isDisabled:n,onFocusChange:v}),{focusWithinProps:b}=Ae({isDisabled:!n,onFocusWithinChange:v});return{isFocused:s,isFocusVisible:i,focusProps:n?b:m}}function ze(e){let r=e.width/2,t=e.height/2;return{top:e.clientY-t,right:e.clientX+r,bottom:e.clientY+t,left:e.clientX-r}}function Ve(e,r){return!(!e||!r||e.right<r.left||e.left>r.right||e.bottom<r.top||e.top>r.bottom)}function Re({disabled:e=!1}={}){let r=c.useRef(null),[t,n]=c.useState(!1),a=xe(),s=V(()=>{r.current=null,n(!1),a.dispose()}),l=V(i=>{if(a.dispose(),r.current===null){r.current=i.currentTarget,n(!0);{let u=ge(i.currentTarget);a.addEventListener(u,"pointerup",s,!1),a.addEventListener(u,"pointermove",p=>{if(r.current){let v=ze(p);n(Ve(v,r.current.getBoundingClientRect()))}},!1),a.addEventListener(u,"pointercancel",s,!1)}}});return{pressed:t,pressProps:e?{}:{onPointerDown:l,onPointerUp:s,onClick:s}}}let Ke="button";function Ue(e,r){var t;let n=ye(),{disabled:a=n||!1,autoFocus:s=!1,...l}=e,{isFocusVisible:i,focusProps:u}=We({autoFocus:s}),{isHovered:p,hoverProps:v}=Be({isDisabled:a}),{pressed:m,pressProps:b}=Re({disabled:a}),f=we({ref:r,type:(t=l.type)!=null?t:"button",disabled:a||void 0,autoFocus:s},u,v,b),g=c.useMemo(()=>({disabled:a,hover:p,focus:i,active:m,autofocus:s}),[a,p,i,m,s]);return $e()({ourProps:f,theirProps:l,slot:g,defaultTag:Ke,name:"Button"})}let P=Ee(Ue);$.defaults.withCredentials=!0;const S="/filemanager",Ge=async(e="public")=>{try{return(await $.get(`${S}/files`,{params:{path:e}})).data}catch(r){throw console.error("Error al obtener archivos:",r),r}},qe=async(e,r)=>{try{const t=new FormData;return t.append("file",e),t.append("path",r),(await $.post(`${S}/files/upload`,t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Error al subir archivo:",t),t}},Ye=async(e,r)=>{try{return(await $.delete(`${S}/files/delete`,{data:{filename:e,path:r}})).data}catch(t){throw console.error("Error al eliminar archivo:",t),t}},Xe=async(e,r)=>{try{return(await $.post(`${S}/folders/create`,{folder_name:e,path:r})).data}catch(t){throw console.error("Error al crear carpeta:",t),t}},Je=async()=>{try{return(await $.get("/user/hierarchy")).data}catch(e){throw console.error("Error al obtener jerarquía del usuario:",e),e}};var re={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},K=x.createContext&&x.createContext(re),Qe=["attr","size","title"];function Ze(e,r){if(e==null)return{};var t=et(e,r),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function et(e,r){if(e==null)return{};var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;t[n]=e[n]}return t}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},k.apply(this,arguments)}function U(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function H(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?U(Object(t),!0).forEach(function(n){tt(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function tt(e,r,t){return r=rt(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function rt(e){var r=nt(e,"string");return typeof r=="symbol"?r:r+""}function nt(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ne(e){return e&&e.map((r,t)=>x.createElement(r.tag,H({key:t},r.attr),ne(r.child)))}function M(e){return r=>x.createElement(at,k({attr:H({},e.attr)},r),ne(e.child))}function at(e){var r=t=>{var{attr:n,size:a,title:s}=e,l=Ze(e,Qe),i=a||t.size||"1em",u;return t.className&&(u=t.className),e.className&&(u=(u?u+" ":"")+e.className),x.createElement("svg",k({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,l,{className:u,style:H(H({color:e.color||t.color},t.style),e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),s&&x.createElement("title",null,s),e.children)};return K!==void 0?x.createElement(K.Consumer,null,t=>r(t)):r(re)}function ot(e){return M({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"g",attr:{fill:"#D1C4E9"},child:[{tag:"path",attr:{d:"M38,7H10C8.9,7,8,7.9,8,9v6c0,1.1,0.9,2,2,2h28c1.1,0,2-0.9,2-2V9C40,7.9,39.1,7,38,7z"},child:[]},{tag:"path",attr:{d:"M38,19H10c-1.1,0-2,0.9-2,2v6c0,1.1,0.9,2,2,2h28c1.1,0,2-0.9,2-2v-6C40,19.9,39.1,19,38,19z"},child:[]},{tag:"path",attr:{d:"M38,31H10c-1.1,0-2,0.9-2,2v6c0,1.1,0.9,2,2,2h28c1.1,0,2-0.9,2-2v-6C40,31.9,39.1,31,38,31z"},child:[]}]},{tag:"circle",attr:{fill:"#43A047",cx:"38",cy:"38",r:"10"},child:[]},{tag:"g",attr:{fill:"#fff"},child:[{tag:"rect",attr:{x:"36",y:"32",width:"4",height:"12"},child:[]},{tag:"rect",attr:{x:"32",y:"36",width:"12",height:"4"},child:[]}]}]})(e)}function st(e){return M({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"polygon",attr:{fill:"#90CAF9",points:"40,45 8,45 8,3 30,3 40,13"},child:[]},{tag:"polygon",attr:{fill:"#E1F5FE",points:"38.5,14 29,14 29,4.5"},child:[]},{tag:"g",attr:{fill:"#1976D2"},child:[{tag:"rect",attr:{x:"16",y:"21",width:"17",height:"2"},child:[]},{tag:"rect",attr:{x:"16",y:"25",width:"13",height:"2"},child:[]},{tag:"rect",attr:{x:"16",y:"29",width:"17",height:"2"},child:[]},{tag:"rect",attr:{x:"16",y:"33",width:"13",height:"2"},child:[]}]}]})(e)}function it(e){return M({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFA000",d:"M40,12H22l-4-4H8c-2.2,0-4,1.8-4,4v8h40v-4C44,13.8,42.2,12,40,12z"},child:[]},{tag:"path",attr:{fill:"#FFCA28",d:"M40,12H8c-2.2,0-4,1.8-4,4v20c0,2.2,1.8,4,4,4h32c2.2,0,4-1.8,4-4V16C44,13.8,42.2,12,40,12z"},child:[]}]})(e)}function ct(e){return M({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"g",attr:{fill:"#009688"},child:[{tag:"polygon",attr:{points:"24,10.9 35,24 13,24"},child:[]},{tag:"rect",attr:{x:"20",y:"40",width:"8",height:"4"},child:[]},{tag:"rect",attr:{x:"20",y:"34",width:"8",height:"4"},child:[]},{tag:"rect",attr:{x:"20",y:"21",width:"8",height:"11"},child:[]},{tag:"rect",attr:{x:"6",y:"4",width:"36",height:"4"},child:[]}]}]})(e)}const lt=()=>{const[e,r]=c.useState([]),[t,n]=c.useState([]),[a,s]=c.useState(""),[l,i]=c.useState(null),[u,p]=c.useState(""),[v,m]=c.useState(""),[b,f]=c.useState(null),[g,j]=c.useState("");c.useEffect(()=>{(async()=>{try{const h=await Je();f(h.hierarchy_level),j(h.company_name),h.hierarchy_level>0?s(`public/${h.company_name}`):s("public")}catch(h){console.error("Error al obtener la jerarquía del usuario:",h),m("Error al obtener la jerarquía del usuario")}})()},[]),c.useEffect(()=>{a&&L(a)},[a]);const L=async d=>{try{const{directories:h,files:fe}=await Ge(d);n(h),r(fe)}catch(h){console.error("Error al obtener archivos y carpetas:",h),m("Error al obtener archivos y carpetas")}},se=d=>{i(d.target.files[0])},ie=async()=>{if(l)try{const d=await qe(l,a);m(d.message),i(null),L(a)}catch(d){console.error("Error al subir archivo:",d),m("Error al subir archivo")}else m("Seleccione un archivo para subir")},ce=async d=>{if(d)try{const h=await Ye(d);m(h.message),L(a)}catch(h){console.error("Error al eliminar archivo:",h),m("Error al eliminar archivo")}},le=async()=>{if(u.trim())try{const d=await Xe(u,a);m(d.message),p(""),L(a)}catch(d){console.error("Error al crear carpeta:",d),m("Error al crear carpeta")}else m("Ingrese un nombre para la carpeta")},ue=d=>{s(d)},de=()=>{const d=a.substring(0,a.lastIndexOf("/"));s(d||`public/${g}`)};return o.jsxs("div",{className:"file-manager-container",children:[o.jsx("h1",{className:"file-manager-title",children:"Gestor de Archivos"}),(b===0||b<3)&&o.jsx("div",{className:"file-manager-form-control",children:o.jsxs("div",{className:"file-manager-form-flex",children:[o.jsx("input",{type:"text",value:u,onChange:d=>p(d.target.value),placeholder:"Nombre de la nueva carpeta",className:"file-manager-input"}),o.jsxs("button",{className:"file-manager-create-button",onClick:le,children:[o.jsx(ot,{className:"mr-2"})," Crear Carpeta"]})]})}),o.jsx("div",{className:"file-manager-form-control",children:o.jsxs("div",{className:"file-manager-form-flex",children:[o.jsx("input",{type:"file",onChange:se,className:"file-manager-input"}),o.jsxs("button",{className:"file-manager-upload-button",onClick:ie,children:[o.jsx(ct,{size:36,className:"mr-2"})," Subir Archivo"]})]})}),v&&o.jsx("div",{className:`file-manager-message ${v.includes("Error")?"file-manager-message-error":"file-manager-message-success"}`,children:v}),o.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Lista de Carpetas y Archivos"}),o.jsx("div",{className:"mb-6 flex justify-center",children:o.jsx("button",{onClick:de,disabled:a===`public/${g}`,className:`file-manager-back-button ${a===`public/${g}`?"file-manager-back-button-disabled":""}`,children:"Volver"})}),o.jsxs("div",{className:"file-manager-grid",children:[t.map((d,h)=>o.jsx("div",{className:"file-manager-card",children:o.jsxs("button",{onClick:()=>ue(d),className:"file-manager-card-button",children:[o.jsx(it,{className:"file-manager-folder-icon"}),o.jsx("span",{className:"file-manager-name",title:d.split("/").pop(),children:d.split("/").pop()})]})},h)),e.map((d,h)=>o.jsxs("div",{className:"file-manager-card",children:[o.jsxs("a",{href:`http://localhost:8000/storage/${d}`,target:"_blank",rel:"noopener noreferrer",className:"file-manager-card-link",children:[o.jsx(st,{size:70}),o.jsx("span",{className:"file-manager-name",title:d.split("/").pop(),children:d.split("/").pop()})]}),o.jsx("button",{onClick:()=>ce(d.split("/").pop()),className:"file-manager-delete-button",children:"Eliminar"})]},h))]})]})},ae=c.createContext(void 0),ut=({children:e})=>{var a;const{auth:r}=W().props,t=((a=r.user)==null?void 0:a.permissions)||[],n=s=>t.includes(s);return o.jsx(ae.Provider,{value:{hasPermission:n},children:e})},oe=()=>{const e=c.useContext(ae);if(!e)throw new Error("usePermissions must be used within a PermissionsProvider");return e},dt=({renderComponent:e})=>{const{hasPermission:r}=oe();return["can_create_companies","can_create_employees","can_create_positions","can_read_employees"].some(a=>r(a))?o.jsxs("div",{className:"dropdown dropdown-end",children:[o.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost nav__bar__button",children:"Panel de Administración"}),o.jsxs("ul",{tabIndex:0,className:"menu dropdown-content rounded-box z-[10] mt-4 w-52 p-2 shadow bg-white",children:[r("can_read_users")&&o.jsx("li",{children:o.jsx(P,{className:"hover:text-black",onClick:()=>e("Profile"),children:"Perfil"})}),r("can_create_companies")&&o.jsx("li",{children:o.jsx(P,{className:"hover:text-black",onClick:()=>e("CreateCompany"),children:"Registrar nueva empresa"})}),r("can_create_positions")&&o.jsx("li",{children:o.jsx(P,{className:"hover:text-black",onClick:()=>e("CreatePosition"),children:"Agregar nuevo puesto"})}),r("can_create_employees")&&o.jsx("li",{children:o.jsx(P,{className:"hover:text-black",onClick:()=>e("CreateEmployee"),children:"Agregar nuevo empleado"})}),r("can_read_employees")&&o.jsx("li",{children:o.jsx(P,{className:"hover:text-black",onClick:()=>e("EmployeeList"),children:"Lista de Empleados"})})]})]}):null},ft=()=>{const{hasPermission:e}=oe(),{auth:r}=W().props;r.user;const[t,n]=c.useState(null),a=l=>{switch(l){case"Profile":n(o.jsx(pt,{}));break;case"FileManager":n(o.jsx(lt,{}));break;case"EmployeeList":n(o.jsx(he,{}));break;case"CreateEmployee":n(o.jsx(me,{}));break;case"CreateCompany":n(o.jsx(ve,{}));break;case"CreatePosition":n(o.jsx(be,{}));break;default:n(null)}},s=()=>{$.post("/logout").finally(()=>{window.location.href="/login"})};return o.jsxs(o.Fragment,{children:[o.jsx(pe,{title:"Inicio"}),o.jsxs("section",{className:"container mx-auto",children:[o.jsxs("nav",{className:"nav__bar rounded-lg flex items-center justify-between p-4 bg-gray-100",children:[o.jsxs("div",{className:"flex space-x-4",children:[e("can_read_files")&&o.jsx(P,{className:"btn btn-ghost nav__bar__button hover:text-black",onClick:()=>a("FileManager"),children:"Explorador de archivos"}),o.jsx(dt,{renderComponent:a})]}),o.jsxs("div",{children:[o.jsx("button",{className:"nav__bar__button transition-opacity hover:text-black",onClick:()=>{const l=document.getElementById("modal_sesion_close");l==null||l.showModal()},children:"Cerrar sesión"}),o.jsx("dialog",{id:"modal_sesion_close",className:"modal",children:o.jsxs("div",{className:"modal-box",children:[o.jsx("h3",{className:"font-bold text-lg text-center",children:"¿Estás seguro de cerrar sesión?"}),o.jsx("div",{className:"modal-action justify-center",children:o.jsxs("form",{method:"dialog",children:[o.jsx("button",{className:"btn m-3 btn-info",children:"No cerrar sesión"}),o.jsx("button",{type:"button",className:"btn m-3 btn-warning",onClick:s,children:"Si, cerrar sesión"})]})})]})})]})]}),o.jsx("div",{className:"mt-4",children:t||o.jsx(G,{mustVerifyEmail:!1,status:"",auth:r})})]})]})},pt=()=>{const{auth:e}=W().props;return o.jsx(G,{mustVerifyEmail:!1,status:"",auth:e})},Pt=()=>o.jsx(ut,{children:o.jsx(ft,{})});export{Pt as default};
