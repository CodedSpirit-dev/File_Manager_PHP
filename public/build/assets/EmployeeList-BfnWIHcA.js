import{r as t,b as d,j as s}from"./app-8uSU3nsv.js";const u=()=>{const[c,o]=t.useState([]),[m,x]=t.useState([]),[p,h]=t.useState([]),[j,l]=t.useState(!0),[n,b]=t.useState(null);return t.useEffect(()=>{l(!0),Promise.all([d.get("api/employeelist"),d.get("api/positions"),d.get("api/companies")]).then(([e,a,r])=>{o(e.data),x(a.data),h(r.data),l(!1)}).catch(e=>{b("Error al cargar los datos"),l(!1)})},[]),j?s.jsx("span",{className:"flex my-auto mx-auto bg-primary loading loading-dots loading-lg w-2/4 h-screen"}):n?(console.log(n),s.jsx("div",{children:n})):s.jsxs("div",{className:"container__75__table",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Lista de Empleados"}),s.jsxs("table",{className:"employee__table",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-xl",children:[s.jsx("th",{className:"px-4 py-2",children:"Nombre"}),s.jsx("th",{className:"px-4 py-2",children:"Fecha de Registro"}),s.jsx("th",{className:"px-4 py-2",children:"Puesto"}),s.jsx("th",{className:"px-4 py-2",children:"Acciones"})]})}),s.jsx("tbody",{children:c.map(e=>{const a=m.find(i=>i.id===e.position_id),r=p.find(i=>i.id===(a==null?void 0:a.company_id));return s.jsxs("tr",{className:"hover",children:[s.jsx("td",{className:"border px-4 py-2",children:e.first_name+" "+e.last_name_1}),s.jsx("td",{className:"border px-4 py-2",children:new Date(e.registered_at).toLocaleDateString()}),s.jsxs("td",{className:"border px-4 py-2",children:[a==null?void 0:a.name,s.jsx("br",{}),s.jsx("span",{className:"badge bg-primary text-white ",children:r==null?void 0:r.name})]}),s.jsx("td",{className:"border px-4 py-2",children:s.jsx("a",{href:`/admin/employee/${e.id}/edit`,className:"btn btn-xs sm:btn-sm md:btn-md lg:btn-lg",children:"Editar"})})]},e.id)})})]})]})};export{u as default};
