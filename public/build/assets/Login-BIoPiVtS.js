import{a as n,j as e,Y as b,b as j}from"./app-CHYKh1tW.js";import{u as f}from"./index.esm-DE_-DE-z.js";var l;const c=(l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content");c&&(n.defaults.headers.common["X-CSRF-TOKEN"]=c);n.defaults.withCredentials=!0;function N({status:m,canResetPassword:d}){const{register:t,handleSubmit:u,setError:i,formState:{errors:r,isValid:x}}=f({mode:"onChange",defaultValues:{remember:!0}}),h=async p=>{try{await n.post("/login",p),window.location.href="/"}catch(s){if(s.response&&s.response.status===422){const a=s.response.data.errors;a?Object.keys(a).forEach(o=>{i(o,{type:"server",message:a[o][0]})}):i("username",{type:"server",message:s.response.data.message||"Error en el inicio de sesión"})}else console.error(s)}};return e.jsxs(e.Fragment,{children:[e.jsx(b,{title:"Iniciar sesión"}),m&&e.jsx("div",{className:"mb-4 text-sm font-medium text-green-600",children:m}),e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:e.jsxs("form",{className:"container__25 bg-white p-6 rounded-md shadow-md mx-4 md:mx-0",onSubmit:u(h),children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Iniciar sesión"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Nombre de usuario"}),e.jsx("input",{id:"username",type:"text",autoComplete:"username",className:"input__data__entry",...t("username",{required:"El nombre de usuario es requerido"})}),r.username&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.username.message})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contraseña"}),e.jsx("input",{id:"password",type:"password",autoComplete:"current-password",className:"input__data__entry",...t("password",{required:"La contraseña es requerida"})}),r.password&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.password.message})]}),e.jsx("div",{className:"mt-4 block",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-indigo-600",...t("remember")}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Recuérdame"})]})}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[d&&e.jsx(j,{href:"/password/reset",className:"text-sm text-gray-600 underline hover:text-gray-900",children:"¿Olvidaste tu contraseña?"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!x,children:"Iniciar sesión"})]})]})})]})}export{N as default};
