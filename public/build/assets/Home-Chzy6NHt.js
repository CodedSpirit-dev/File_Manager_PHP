import{r as p,j as e,q as u,Y as y,b as v}from"./app-CaPX-28s.js";import w from"./EmployeeList-Dn9RAOfU.js";import N from"./Profile-DUUzKqzH.js";import x from"./FileManager-BdtKVfqt.js";import{$ as P,a as k,w as C,u as b,r as i,P as $}from"./Toolbar-CxTzB0Xq.js";import E from"./CompanyList-z5_P43ob.js";import I from"./PositionList-_Aej1Se0.js";import{a as L}from"./portal-CmHpPKVr.js";import{K as F,_ as M,L as A}from"./use-server-handoff-complete-B3CVCkoP.js";import"./EditEmployee-B8gcKyem.js";import"./index.esm-B8nDuB3b.js";import"./CreateEmployee-DdayvlM3.js";import"./UpdatePasswordForm-DSenGNJn.js";import"./Modal-3jYyF-uO.js";import"./index-CKvG2RR7.js";import"./iconBase-BEON3IGH.js";import"./FileViewerModal-crYqcrPg.js";import"./FileViewer-B_VeNTrI.js";import"./fileManagerApi-DSzRUjNs.js";import"./Breadcrumb-CIByB6iA.js";import"./EditCompany-DRltljnh.js";import"./CreateCompany-DY0o4oME.js";import"./companyApi-BXJsO4R-.js";import"./CreatePosition-W_98ZmSs.js";import"./positionApi-D-6ZvByo.js";import"./EditPosition-C_rM0Fpa.js";let B="button";function H(o,n){var a;let r=L(),{disabled:t=r||!1,autoFocus:l=!1,...s}=o,{isFocusVisible:c,focusProps:h}=P({autoFocus:l}),{isHovered:m,hoverProps:f}=k({isDisabled:t}),{pressed:d,pressProps:_}=C({disabled:t}),g=M({ref:n,type:(a=s.type)!=null?a:"button",disabled:t||void 0,autoFocus:l},h,f,_),j=p.useMemo(()=>({disabled:t,hover:m,focus:c,active:d,autofocus:l}),[t,m,c,d,l]);return A()({ourProps:g,theirProps:s,slot:j,defaultTag:B,name:"Button"})}let S=F(H);const z=({renderComponent:o})=>{const{hasPermission:n}=b();return["can_create_companies","can_create_employees","can_create_positions","can_view_all_employees","can_view_company_employees","can_view_file_explorer"].some(t=>n(t))?e.jsxs(i,{as:"div",className:"relative inline-block text-left",children:[e.jsx("div",{children:e.jsx(i.Button,{className:"btn btn-ghost nav__bar__button",children:"Panel de Administración"})}),e.jsx(i.Items,{className:"absolute right-0 mt-2 w-56 origin-top-right bg-white border border-gray-200 divide-y divide-gray-100 rounded-md shadow-lg focus:outline-none z-20",children:e.jsxs("div",{className:"px-1 py-1 ",children:[n("can_view_company_employees")&&e.jsx(i.Item,{children:({active:t})=>e.jsx("button",{className:`${t?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>o("Profile"),children:"Perfil"})}),n("can_create_positions")&&e.jsx(i.Item,{children:({active:t})=>e.jsx("button",{className:`${t?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>o("PositionList"),children:"Puestos"})}),n("can_view_all_employees")&&e.jsx(i.Item,{children:({active:t})=>e.jsx("button",{className:`${t?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>o("EmployeeList"),children:"Empleados"})}),e.jsx(i.Item,{children:({active:t})=>e.jsx("button",{className:`${t?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>o("CompanyList"),children:"Empresas"})})]})})]}):null},D=()=>{const{hasPermission:o}=b(),{auth:n}=u().props;n.user;const[a,r]=p.useState(null),t=s=>{switch(s){case"Profile":r(e.jsx(R,{}));break;case"FileManager":r(e.jsx(x,{}));break;case"EmployeeList":r(e.jsx(w,{}));break;case"CompanyList":r(e.jsx(E,{}));break;case"PositionList":r(e.jsx(I,{}));break;default:r(null)}},l=()=>{v.post("/logout").finally(()=>{window.location.href="/login"})};return e.jsxs(e.Fragment,{children:[e.jsx(y,{title:"Inicio"}),e.jsxs("section",{className:"container mx-auto",children:[e.jsxs("nav",{className:"nav__bar rounded-lg flex items-center justify-between p-4",children:[e.jsx("div",{className:"lg:hidden",children:e.jsxs(i,{as:"div",className:"relative inline-block text-left",children:[e.jsx("div",{children:e.jsx(i.Button,{className:"nav__bar__button transition-opacity hover:text-black",children:"Menú"})}),e.jsx(i.Items,{className:"absolute left-0 mt-2 w-56 origin-top-left bg-white border border-gray-200 divide-y divide-gray-100 rounded-md shadow-lg focus:outline-none z-20",children:e.jsxs("div",{className:"px-1 py-1 ",children:[o("can_view_company_employees")&&e.jsx(i.Item,{children:({active:s})=>e.jsx("button",{className:`${s?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>t("Profile"),children:"Perfil"})}),o("can_create_companies")&&e.jsx(i.Item,{children:({active:s})=>e.jsx("button",{className:`${s?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>t("CompanyList"),children:"Empresas"})}),o("can_create_positions")&&e.jsx(i.Item,{children:({active:s})=>e.jsx("button",{className:`${s?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>t("PositionList"),children:"Puestos"})}),o("can_view_all_employees")&&e.jsx(i.Item,{children:({active:s})=>e.jsx("button",{className:`${s?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>t("EmployeeList"),children:"Empleados"})}),o("can_view_file_explorer")&&e.jsx(i.Item,{children:({active:s})=>e.jsx("button",{className:`${s?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>t("FileManager"),children:"Explorador de archivos"})})]})})]})}),e.jsxs("div",{className:"hidden lg:flex space-x-4",children:[o("can_view_file_explorer")&&e.jsx(S,{className:"btn btn-ghost nav__bar__button hover:text-black",onClick:()=>t("FileManager"),children:"Explorador de archivos"}),e.jsx(z,{renderComponent:t})]}),e.jsxs("div",{children:[e.jsx("button",{className:"nav__bar__button transition-opacity hover:text-black",onClick:()=>{const s=document.getElementById("modal_sesion_close");s==null||s.showModal()},children:"Cerrar sesión"}),e.jsx("dialog",{id:"modal_sesion_close",className:"modal",children:e.jsxs("div",{className:"modal-box",children:[e.jsx("h3",{className:"font-bold text-lg text-center",children:"¿Estás seguro de cerrar sesión?"}),e.jsx("div",{className:"modal-action justify-center",children:e.jsxs("form",{method:"dialog",children:[e.jsx("button",{className:"btn btn-active btn-secondary bg-warning text-base-content hover:text-base-100 m-3",children:"No cerrar sesión"}),e.jsx("button",{type:"button",className:"btn btn-active btn-primary m-3",onClick:l,children:"Sí, cerrar sesión"})]})})]})})]})]}),e.jsx("div",{className:"mt-4",children:a||e.jsx(x,{})})]})]})},R=()=>{const{auth:o}=u().props;return e.jsx(N,{mustVerifyEmail:!1,status:"",auth:o})},pe=()=>e.jsx($,{children:e.jsx(D,{})});export{pe as default};
