import{j as e,Y as u,a as p,b as h}from"./app-WTmYr8Aw.js";import{u as b}from"./index.esm-wXNwuEEE.js";function g({status:n,canResetPassword:o}){const{register:t,handleSubmit:l,setError:i,formState:{errors:r,isValid:c}}=b({mode:"onChange",defaultValues:{remember:!0}}),d=async x=>{try{await h.post("/login",x,{withCredentials:!0}),window.location.href="/"}catch(s){if(s.response&&s.response.status===422){const a=s.response.data.errors;a?Object.keys(a).forEach(m=>{i(m,{type:"server",message:a[m][0]})}):i("username",{type:"server",message:s.response.data.message||"Error en el inicio de sesión"})}else console.error(s)}};return e.jsxs(e.Fragment,{children:[e.jsx(u,{title:"Iniciar sesión"}),n&&e.jsx("div",{className:"mb-4 text-sm font-medium text-green-600",children:n}),e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:e.jsxs("form",{className:"container__25 bg-white p-6 rounded-md shadow-md mx-4 md:mx-0",onSubmit:l(d),children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Iniciar sesión"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Nombre de usuario"}),e.jsx("input",{id:"username",type:"text",autoComplete:"username",className:"input__data__entry",...t("username",{required:"El nombre de usuario es requerido"})}),r.username&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.username.message})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contraseña"}),e.jsx("input",{id:"password",type:"password",autoComplete:"current-password",className:"input__data__entry",...t("password",{required:"La contraseña es requerida"})}),r.password&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.password.message})]}),e.jsx("div",{className:"mt-4 block",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-indigo-600",...t("remember")}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Recuérdame"})]})}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[o&&e.jsx(p,{href:"/password/reset",className:"text-sm text-gray-600 underline hover:text-gray-900",children:"¿Olvidaste tu contraseña?"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!c,children:"Iniciar sesión"})]})]})})]})}export{g as default};
