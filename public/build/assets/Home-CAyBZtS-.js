import{r as p,j as e,q as u,Y as j,b as v}from"./app-BV18XVG3.js";import w from"./CreateEmployee-BZP8Dc1e.js";import N from"./EmployeeList-BpoThdbP.js";import C from"./Profile-K8Q5o2gL.js";import k from"./CreateCompany-BPpyN7DA.js";import P from"./CreatePosition-Cz4XeXGi.js";import x from"./FileManager-2LJvqnQp.js";import{$,a as E,w as I,u as b,r as o,P as A}from"./Toolbar-BPo-Hm6N.js";import{a as F}from"./portal-D1lVVFK8.js";import{K as L,_ as M,L as B}from"./use-server-handoff-complete-Bn9HKYyf.js";import"./index.esm-mNt4nw4V.js";import"./EditEmployee-C58sIc3u.js";import"./UpdatePasswordForm-DM8NzOHJ.js";import"./Modal-1go2hhai.js";import"./index-B3JJ4fBV.js";import"./iconBase-CgwWVDY2.js";import"./FileViewerModal-Bc7Wx83I.js";import"./FileViewer-DiWz6T35.js";import"./fileManagerApi-Dd6CcLnU.js";import"./Breadcrumb-DpUsO5wl.js";let H="button";function R(r,a){var n;let i=F(),{disabled:t=i||!1,autoFocus:l=!1,...s}=r,{isFocusVisible:c,focusProps:h}=$({autoFocus:l}),{isHovered:m,hoverProps:g}=E({isDisabled:t}),{pressed:d,pressProps:f}=I({disabled:t}),_=M({ref:a,type:(n=s.type)!=null?n:"button",disabled:t||void 0,autoFocus:l},h,g,f),y=p.useMemo(()=>({disabled:t,hover:m,focus:c,active:d,autofocus:l}),[t,m,c,d,l]);return B()({ourProps:_,theirProps:s,slot:y,defaultTag:H,name:"Button"})}let S=L(R);const z=({renderComponent:r})=>{const{hasPermission:a}=b();return["can_create_companies","can_create_employees","can_create_positions","can_view_all_employees","can_view_company_employees","can_view_file_explorer"].some(t=>a(t))?e.jsxs(o,{as:"div",className:"relative inline-block text-left",children:[e.jsx("div",{children:e.jsx(o.Button,{className:"btn btn-ghost nav__bar__button",children:"Panel de Administración"})}),e.jsx(o.Items,{className:"absolute right-0 mt-2 w-56 origin-top-right bg-white border border-gray-200 divide-y divide-gray-100 rounded-md shadow-lg focus:outline-none z-20",children:e.jsxs("div",{className:"px-1 py-1 ",children:[a("can_view_company_employees")&&e.jsx(o.Item,{children:({active:t})=>e.jsx("button",{className:`${t?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>r("Profile"),children:"Perfil"})}),a("can_create_companies")&&e.jsx(o.Item,{children:({active:t})=>e.jsx("button",{className:`${t?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>r("CreateCompany"),children:"Registrar nueva empresa"})}),a("can_create_positions")&&e.jsx(o.Item,{children:({active:t})=>e.jsx("button",{className:`${t?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>r("CreatePosition"),children:"Agregar nuevo puesto"})}),a("can_create_employees")&&e.jsx(o.Item,{children:({active:t})=>e.jsx("button",{className:`${t?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>r("CreateEmployee"),children:"Agregar nuevo empleado"})}),a("can_view_all_employees")&&e.jsx(o.Item,{children:({active:t})=>e.jsx("button",{className:`${t?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>r("EmployeeList"),children:"Lista de Empleados"})})]})})]}):null},D=()=>{const{hasPermission:r}=b(),{auth:a}=u().props;a.user;const[n,i]=p.useState(null),t=s=>{switch(s){case"Profile":i(e.jsx(T,{}));break;case"FileManager":i(e.jsx(x,{}));break;case"EmployeeList":i(e.jsx(N,{}));break;case"CreateEmployee":i(e.jsx(w,{}));break;case"CreateCompany":i(e.jsx(k,{}));break;case"CreatePosition":i(e.jsx(P,{}));break;default:i(null)}},l=()=>{v.post("/logout").finally(()=>{window.location.href="/login"})};return e.jsxs(e.Fragment,{children:[e.jsx(j,{title:"Inicio"}),e.jsxs("section",{className:"container mx-auto",children:[e.jsxs("nav",{className:"nav__bar rounded-lg flex items-center justify-between p-4",children:[e.jsx("div",{className:"lg:hidden",children:e.jsxs(o,{as:"div",className:"relative inline-block text-left",children:[e.jsx("div",{children:e.jsx(o.Button,{className:"nav__bar__button transition-opacity hover:text-black",children:"Menú"})}),e.jsx(o.Items,{className:"absolute left-0 mt-2 w-56 origin-top-left bg-white border border-gray-200 divide-y divide-gray-100 rounded-md shadow-lg focus:outline-none z-20",children:e.jsxs("div",{className:"px-1 py-1 ",children:[r("can_view_company_employees")&&e.jsx(o.Item,{children:({active:s})=>e.jsx("button",{className:`${s?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>t("Profile"),children:"Perfil"})}),r("can_create_companies")&&e.jsx(o.Item,{children:({active:s})=>e.jsx("button",{className:`${s?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>t("CreateCompany"),children:"Registrar nueva empresa"})}),r("can_create_positions")&&e.jsx(o.Item,{children:({active:s})=>e.jsx("button",{className:`${s?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>t("CreatePosition"),children:"Agregar nuevo puesto"})}),r("can_create_employees")&&e.jsx(o.Item,{children:({active:s})=>e.jsx("button",{className:`${s?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>t("CreateEmployee"),children:"Agregar nuevo empleado"})}),r("can_view_all_employees")&&e.jsx(o.Item,{children:({active:s})=>e.jsx("button",{className:`${s?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>t("EmployeeList"),children:"Lista de Empleados"})}),r("can_view_file_explorer")&&e.jsx(o.Item,{children:({active:s})=>e.jsx("button",{className:`${s?"bg-blue-500 text-white":"text-gray-900"} group flex rounded-md items-center w-full px-2 py-2 text-sm`,onClick:()=>t("FileManager"),children:"Explorador de archivos"})})]})})]})}),e.jsxs("div",{className:"hidden lg:flex space-x-4",children:[r("can_view_file_explorer")&&e.jsx(S,{className:"btn btn-ghost nav__bar__button hover:text-black",onClick:()=>t("FileManager"),children:"Explorador de archivos"}),e.jsx(z,{renderComponent:t})]}),e.jsxs("div",{children:[e.jsx("button",{className:"nav__bar__button transition-opacity hover:text-black",onClick:()=>{const s=document.getElementById("modal_sesion_close");s==null||s.showModal()},children:"Cerrar sesión"}),e.jsx("dialog",{id:"modal_sesion_close",className:"modal",children:e.jsxs("div",{className:"modal-box",children:[e.jsx("h3",{className:"font-bold text-lg text-center",children:"¿Estás seguro de cerrar sesión?"}),e.jsx("div",{className:"modal-action justify-center",children:e.jsxs("form",{method:"dialog",children:[e.jsx("button",{className:"btn btn-active btn-secondary bg-warning text-base-content hover:text-base-100 m-3",children:"No cerrar sesión"}),e.jsx("button",{type:"button",className:"btn btn-active btn-primary m-3",onClick:l,children:"Sí, cerrar sesión"})]})})]})})]})]}),e.jsx("div",{className:"mt-4",children:n||e.jsx(x,{})})]})]})},T=()=>{const{auth:r}=u().props;return e.jsx(C,{mustVerifyEmail:!1,status:"",auth:r})},le=()=>e.jsx(A,{children:e.jsx(D,{})});export{le as default};
